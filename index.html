<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <!-- lien ajax  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <title>Hello, world!</title>
</head>

<body>
    <div class="container text-center">
        <div id="name">

        </div>
        <div id="genre">

        </div>
        <div id="id">

        </div>
    </div>

    <form class="text-center">
        <input type="nom" name="nom" value="nom" id="nom">
        <input type="type" name="type" value="type" id="type">
        <input type="button" value="insertion" id="insertion">
    </form>
    
    <div id="nouveauNom"></div>
    <div id="nouveauType"></div>

    <script>
        $.ajax({
            url: "/database",
            context: document.body
        }).done(function (data) {
            console.log(data)
            $("#name").append("nom : " + data.name)
            $("#genre").append("genre : " + data.genre)
            $("#id").append("id : " + data._id)
            $("#age").append("age : " + data._age)
        }).fail(function () {
            console.log("erreur")
        });

        $(document).ready(function () {
            $("#insertion").click(function () {
                var nom = $("#nom").val();
                var type = $("#type").val();
                // console.log("ok");
                $.ajax({
                    method: "POST",
                    url: "http://localhost:3005/formulaire",
                    data: { name: nom, type1: type }
                }).done(function (result) {
                   $("#nouveauNom").append("nom" + result.name)
                //    $("#nouveauType").append("type" + result.type)
                // console.log(result)
                }).fail(function (x, b) {
                    console.log("erreur");
                })
            });
        });
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
</body>

</html>